[gd_scene load_steps=14 format=4 uid="uid://b13vwyaewc6tm"]

[ext_resource type="PackedScene" uid="uid://b7gh3a6eb03y0" path="res://ui/resource_display.tscn" id="1_a47p7"]
[ext_resource type="PackedScene" uid="uid://dy700bwdrorh4" path="res://entities/characters/player.tscn" id="2_0wynk"]
[ext_resource type="TileSet" uid="uid://chyut4bk5txdn" path="res://tilesets/dungeon_terrain.tres" id="2_5krfb"]
[ext_resource type="PackedScene" uid="uid://bqwtq0th0xf8r" path="res://ui/trap_selection.tscn" id="2_f3iph"]
[ext_resource type="Script" uid="uid://ixlv8o45pmwu" path="res://levels/map.gd" id="2_vrunm"]
[ext_resource type="PackedScene" uid="uid://lmebpt6opvja" path="res://entities/objects/fire_trap.tscn" id="3_vrunm"]
[ext_resource type="Script" uid="uid://cjudhtx3rtd6j" path="res://levels/enemy_path.gd" id="4_ohqux"]
[ext_resource type="PackedScene" uid="uid://vcm1xbqwt4l8" path="res://entities/characters/enemy/warrior/enemy_warrior.tscn" id="5_ohqux"]
[ext_resource type="PackedScene" uid="uid://qsptluvvputt" path="res://entities/objects/minion_door.tscn" id="6_a47p7"]
[ext_resource type="PackedScene" uid="uid://dbk3p3q8hhi52" path="res://general/camera/shaky_cam.tscn" id="10_vehgu"]

[sub_resource type="TileSetScenesCollectionSource" id="TileSetScenesCollectionSource_f3iph"]
scenes/1/scene = ExtResource("3_vrunm")

[sub_resource type="TileSet" id="TileSet_vehgu"]
sources/0 = SubResource("TileSetScenesCollectionSource_f3iph")

[sub_resource type="Curve2D" id="Curve2D_x46hq"]
_data = {
"points": PackedVector2Array(0, 0, 0, 0, 95, 144, 0, 0, 0, 0, 216, 144, 0, 0, 0, 0, 216, 56, 0, 0, 0, 0, 72, 56, 0, 0, 0, 0, 72, -40, 0, 0, 0, 0, 264, -40)
}
point_count = 6

[node name="World" type="Node2D"]
y_sort_enabled = true

[node name="ResourceDisplay" parent="." instance=ExtResource("1_a47p7")]

[node name="TrapSelection" parent="." node_paths=PackedStringArray("map") instance=ExtResource("2_f3iph")]
map = NodePath("../Map")

[node name="Map" type="Node2D" parent="."]
y_sort_enabled = true
script = ExtResource("2_vrunm")

[node name="Ground" type="TileMapLayer" parent="Map"]
z_index = -10
tile_map_data = PackedByteArray("AAARAAgAAAACAAIAAAARAAcAAAARAAgAAAARAAYAAAARAAcAAAARAAUAAAADAAIABAAQAAgAAAACAAIAAAAQAAcAAAADAAMAAAAQAAYAAAACAAIAAAAQAAUAAAACAAMAAQAPAAgAAAACAAIAAAAPAAcAAAACAAIAAAAPAAYAAAAEAAMAAAAPAAUAAAARAAYAAQAOAAgAAAACAAIAAAAOAAcAAAACAAIAAAAOAAYAAAADAAQAAAAOAAUAAAARAAkAAAAOAAQAAAAQAAkAAAANAAgAAAACAAQAAAANAAcAAAACAAIAAAANAAYAAAACAAMAAAANAAUAAAACAAQAAAANAAQAAAACAAQAAAAMAAgAAAARAAcAAgAMAAcAAAARAAYAAQAMAAYAAAARAAcAAgAMAAUAAAARAAgAAAAMAAQAAAACAAIAAAALAAgAAAAEAAIAAQALAAQAAAADAAMAAgAKAAgAAAADAAIABAAKAAQAAAARAAYAAQAJAAgAAAADAAMAAgAJAAQAAAAEAAIAAQAIAAgAAAACAAIAAAAIAAQAAAARAAcAAAAHAAgAAAADAAQAAAAHAAQAAAADAAIABAAGAAgAAAAEAAQAAAAGAAQAAAARAAcAAgAGAAMAAAACAAIAAAAGAAIAAAACAAIAAAAFAAgAAAACAAMAAAAFAAQAAAADAAQAAAAFAAMAAAAEAAMAAgAFAAIAAAARAAcAAgAEAAQAAAADAAIAAAAEAAMAAAADAAQAAQAEAAIAAAADAAIAAAADAAQAAAACAAMAAAADAAMAAAADAAMAAgAOAAMAAAAEAAMAAAANAAMAAAACAAIAAAAMAAMAAAADAAMAAAAHAAMAAAAEAAQAAQALAAMAAAARAAcAAAAKAAMAAAACAAIAAAAJAAMAAAACAAIAAAAIAAMAAAAEAAQAAAACAAQAAAACAAIAAAACAAIAAAADAAIAAAACAAMAAAACAAIAAAADAAIAAAACAAIAAAARAAkAAAACAAMAAQAQAAkAAAADAAQAAQAPAAkAAAAEAAIAAAAOAAkAAAARAAkAAQANAAkAAAACAAMAAAAMAAkAAAAEAAIAAQALAAkAAAACAAIAAAAKAAkAAAACAAIAAAAJAAkAAAADAAQAAAAIAAkAAAACAAIAAAAHAAkAAAAEAAMAAAAGAAkAAAARAAcAAgAFAAkAAAAQAAkAAAAOAAIAAAAEAAMAAAANAAIAAAAEAAMAAAAMAAIAAAADAAQAAAALAAIAAAADAAQAAAAKAAIAAAAEAAIAAQAJAAIAAAAEAAQAAAAIAAIAAAADAAQAAQAHAAIAAAARAAgAAAAGAAEAAAACAAMAAQAGAAAAAAAEAAMAAgAGAP//AAAEAAMAAAAGAP7/AAADAAMAAgAGAP3/AAADAAQAAAAFAAEAAAACAAIAAAAFAAAAAAAEAAIAAAAFAP//AAACAAIAAAAFAP7/AAACAAIAAAAFAP3/AAADAAIAAAAEAAEAAAARAAgAAAAEAAAAAAACAAIAAAAEAP//AAARAAcAAgAEAP7/AAARAAgAAQAEAP3/AAACAAIAAAADAAEAAAAEAAMAAAADAAAAAAARAAcAAgADAP//AAACAAIAAAADAP7/AAACAAIAAAADAP3/AAACAAMAAAACAAEAAAAQAAkAAAACAAAAAAACAAIAAAACAP//AAACAAIAAAACAP7/AAACAAMAAQACAP3/AAACAAMAAAAOAP//AAADAAQAAAAOAP7/AAAQAAkAAAAOAP3/AAAEAAQAAAANAP//AAACAAIAAAANAP7/AAADAAQAAQANAP3/AAACAAIAAAAMAP//AAACAAIAAAAMAP7/AAADAAQAAQAMAP3/AAACAAIAAAALAP//AAACAAIAAAALAP7/AAADAAIAAAALAP3/AAAEAAMAAAAKAP//AAARAAgAAQAKAP7/AAAEAAQAAQAKAP3/AAACAAIAAAAJAP//AAARAAcAAAAJAP7/AAADAAIAAAAJAP3/AAADAAQAAAAIAP//AAAEAAQAAQAIAP7/AAARAAYAAQAIAP3/AAADAAIAAAAHAP//AAACAAIAAAAHAP7/AAAEAAQAAAAHAP3/AAADAAMAAAARAP//AAACAAIAAAARAP7/AAARAAgAAQARAP3/AAAEAAMAAAAQAP//AAACAAIAAAAQAP7/AAACAAMAAQAQAP3/AAAEAAIAAQAPAP//AAARAAgAAAAPAP7/AAACAAIAAAAPAP3/AAARAAcAAAARAPz/AAAEAAIAAAAQAPz/AAACAAIAAAAPAPz/AAACAAIAAAAOAPz/AAACAAIAAAANAPz/AAADAAIAAAAMAPz/AAAQAAkAAAALAPz/AAACAAIAAAAKAPz/AAARAAkAAQAJAPz/AAACAAIAAAAIAPz/AAACAAIAAAAHAPz/AAADAAQAAQAGAPz/AAACAAMAAAAFAPz/AAAEAAIAAQAEAPz/AAAEAAMAAAADAPz/AAADAAMAAgACAPz/AAACAAQAAAA=")
tile_set = ExtResource("2_5krfb")

[node name="HighlightBox" type="ColorRect" parent="Map/Ground"]
offset_left = 64.0
offset_top = 48.0
offset_right = 80.0
offset_bottom = 64.0
color = Color(0.7528677, 0.79595864, 0.86290884, 0.5)

[node name="Traps" type="TileMapLayer" parent="Map"]
y_sort_enabled = true
tile_set = SubResource("TileSet_vehgu")

[node name="TrapsHover" type="TileMapLayer" parent="Map"]
modulate = Color(1, 1, 1, 0.5)
y_sort_enabled = true
tile_set = SubResource("TileSet_vehgu")

[node name="Walls" type="TileMapLayer" parent="Map"]
y_sort_enabled = true
tile_map_data = PackedByteArray("AAAHAAUAAAABAAcAAAAGAAUAAAACAAEAAAAFAAUAAAADAAkAAAAEAAUAAAAEAAUAAAADAAUAAAAEAAEAAAACAAUAAAAEAAUAAAABAAUAAAABAAUAAAAPAAQAAAABAAUAAAAPAAMAAAABAAIAAAASAAQAAAAFAAEAAAARAAQAAAADAAEAAAAQAAQAAAADAAEAAAALAAUAAAAFAAEAAAAKAAUAAAACAAEAAAAJAAUAAAADAAUAAAAIAAUAAAAEAAEAAAALAAYAAAAFAAIAAAAEAAcAAAABAAEAAAAEAAkAAAABAAQAAAAEAAgAAAAFAAQAAAABAAIAAAAFAAIAAAABAAMAAAAFAAQAAAABAAQAAAABAAIAAAASAAUAAAAFAAQAAAASAAYAAAABAAIAAAASAAcAAAAFAAMAAAASAAgAAAAFAAQAAAASAAkAAAAFAAMAAAAFAAcAAAACAAUAAAAGAAcAAAADAAUAAAAHAAcAAAAEAAEAAAAIAAcAAAAEAAEAAAAJAAcAAAACAAkAAAAKAAcAAAAEAAEAAAALAAcAAAAFAAUAAAAEAAoAAAABAAUAAAAFAAoAAAACAAUAAAAGAAoAAAAEAAEAAAAHAAoAAAACAAEAAAAIAAoAAAACAAkAAAAJAAoAAAAEAAEAAAAKAAoAAAADAAUAAAALAAoAAAACAAEAAAAMAAoAAAADAAEAAAANAAoAAAACAAEAAAAOAAoAAAADAAEAAAAPAAoAAAACAAkAAAAQAAoAAAADAAUAAAARAAoAAAACAAEAAAASAAoAAAAFAAUAAAABAAEAAAABAAIAAAABAAAAAAAFAAIAAAABAP//AAAFAAMAAAABAP7/AAABAAIAAAABAP3/AAABAAMAAAABAPz/AAAFAAMAAAABAPv/AAABAAEAAAAPAAIAAAABAAIAAAAPAAEAAAAFAAEAAAAOAAEAAAACAAkAAAANAAEAAAADAAUAAAAMAAEAAAACAAUAAAALAAEAAAADAAUAAAAKAAEAAAAEAAUAAAAJAAEAAAAEAAUAAAAIAAEAAAAEAAUAAAAHAAEAAAABAAUAAAAHAAAAAAAFAAIAAAAHAP//AAABAAEAAAASAP//AAAFAAUAAAARAP//AAACAAkAAAAQAP//AAADAAUAAAAPAP//AAACAAUAAAAOAP//AAADAAEAAAANAP//AAAEAAUAAAAMAP//AAAEAAUAAAALAP//AAADAAUAAAAKAP//AAACAAEAAAAJAP//AAACAAUAAAAIAP//AAADAAUAAAASAPv/AAAFAAEAAAARAPv/AAACAAEAAAAQAPv/AAAEAAUAAAAPAPv/AAADAAUAAAAOAPv/AAACAAkAAAANAPv/AAACAAEAAAAMAPv/AAACAAEAAAALAPv/AAADAAEAAAAKAPv/AAAEAAEAAAAJAPv/AAACAAUAAAAIAPv/AAADAAUAAAAHAPv/AAAEAAEAAAAGAPv/AAADAAEAAAAFAPv/AAAEAAEAAAAEAPv/AAAEAAEAAAADAPv/AAAEAAUAAAACAPv/AAAEAAUAAAASAP7/AAAFAAMAAAASAP3/AAAFAAQAAAASAPz/AAABAAQAAAA=")
tile_set = ExtResource("2_5krfb")

[node name="Entities" type="Node2D" parent="."]
y_sort_enabled = true

[node name="Player" parent="Entities" instance=ExtResource("2_0wynk")]
position = Vector2(83, 44)

[node name="EnemyPath" type="Path2D" parent="Entities"]
y_sort_enabled = true
curve = SubResource("Curve2D_x46hq")
script = ExtResource("4_ohqux")
enemy_scene = ExtResource("5_ohqux")

[node name="MinionDoor" parent="Entities" instance=ExtResource("6_a47p7")]
position = Vector2(72, -64)

[node name="MinionDoor2" parent="Entities" instance=ExtResource("6_a47p7")]
position = Vector2(216, 32)

[node name="ShakyCam" parent="." node_paths=PackedStringArray("target") instance=ExtResource("10_vehgu")]
target = NodePath("../Entities/Player")
